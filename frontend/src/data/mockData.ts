import { AnalysisReport } from '../types';

export const mockAnalysisData: AnalysisReport = {
  repo: 'cmu-sei/example-project',
  window: {
    from: '2025-09-13T00:00:00Z',
    to: '2025-09-27T23:59:59Z',
  },
  summary: {
    contributors_active: 6,
    prs_opened: 12,
    issues_opened: 9,
    issues_closed: 7,
    pct_prs_reviewed: 0.75,
    median_pr_cycle_time_hours: 28.5,
    stale_items: 3,
  },
  contributors: [
    {
      login: 'alice',
      commits: 14,
      prs: 3,
      reviews: 5,
      issues: 1,
      direct_pushes_default: 0,
    },
    {
      login: 'bob',
      commits: 8,
      prs: 4,
      reviews: 3,
      issues: 2,
      direct_pushes_default: 1,
    },
    {
      login: 'carol',
      commits: 12,
      prs: 2,
      reviews: 7,
      issues: 3,
      direct_pushes_default: 0,
    },
    {
      login: 'dave',
      commits: 6,
      prs: 1,
      reviews: 2,
      issues: 4,
      direct_pushes_default: 0,
    },
    {
      login: 'eve',
      commits: 10,
      prs: 2,
      reviews: 4,
      issues: 1,
      direct_pushes_default: 0,
    },
  ],
  pull_requests: [
    {
      number: 123,
      title: 'Refactor auth module',
      author: 'alice',
      created_at: '2025-09-20T12:05:00Z',
      status: 'Merged',
      is_draft: false,
      is_wip: false,
      reviewed: true,
      linked_issues: [456],
      files_changed: 7,
      additions: 180,
      deletions: 60,
      size_bucket: 'M',
      time_to_first_review_minutes: 95,
      cycle_time_hours: 26,
      approvals: 2,
      reviewers: ['bob', 'carol'],
      ci_status: 'pass',
      url: 'https://github.com/cmu-sei/example-project/pull/123',
    },
    {
      number: 124,
      title: 'Add user profile page',
      author: 'bob',
      created_at: '2025-09-21T09:30:00Z',
      status: 'Open',
      is_draft: false,
      is_wip: false,
      reviewed: true,
      linked_issues: [457, 458],
      files_changed: 12,
      additions: 320,
      deletions: 45,
      size_bucket: 'L',
      time_to_first_review_minutes: 240,
      cycle_time_hours: null,
      approvals: 1,
      reviewers: ['alice', 'eve'],
      ci_status: 'pass',
      url: 'https://github.com/cmu-sei/example-project/pull/124',
    },
    {
      number: 125,
      title: 'Fix mobile responsive layout',
      author: 'carol',
      created_at: '2025-09-22T14:15:00Z',
      status: 'Draft',
      is_draft: true,
      is_wip: false,
      reviewed: false,
      linked_issues: [],
      files_changed: 4,
      additions: 85,
      deletions: 20,
      size_bucket: 'S',
      time_to_first_review_minutes: null,
      cycle_time_hours: null,
      approvals: 0,
      reviewers: [],
      ci_status: 'fail',
      url: 'https://github.com/cmu-sei/example-project/pull/125',
    },
    {
      number: 126,
      title: 'WIP: Database migration for user preferences',
      author: 'dave',
      created_at: '2025-09-23T16:45:00Z',
      status: 'Open',
      is_draft: false,
      is_wip: true,
      reviewed: false,
      linked_issues: [459],
      files_changed: 3,
      additions: 150,
      deletions: 10,
      size_bucket: 'M',
      time_to_first_review_minutes: null,
      cycle_time_hours: null,
      approvals: 0,
      reviewers: [],
      ci_status: 'none',
      url: 'https://github.com/cmu-sei/example-project/pull/126',
    },
  ],
  project: {
    items: [
      {
        title: 'Implement user authentication',
        type: 'Issue',
        column: 'In Progress',
        last_activity: '2025-09-25T10:30:00Z',
        assignees: ['alice', 'bob'],
        labels: ['feature', 'high-priority'],
        linked_artifact: 'PR #123',
        age_days: 5,
      },
      {
        title: 'Design system documentation',
        type: 'Issue',
        column: 'To Do',
        last_activity: '2025-09-20T14:20:00Z',
        assignees: ['carol'],
        labels: ['documentation'],
        linked_artifact: null,
        age_days: 7,
      },
      {
        title: 'Performance optimization',
        type: 'Draft',
        column: 'Done',
        last_activity: '2025-09-24T09:15:00Z',
        assignees: ['eve'],
        labels: ['performance'],
        linked_artifact: null,
        age_days: 3,
      },
    ],
  },
  issues: [
    {
      number: 456,
      title: 'Login error on Safari',
      author: 'dave',
      created_at: '2025-09-18T11:20:00Z',
      closed_at: '2025-09-20T15:30:00Z',
      time_to_first_response_minutes: 42,
      assignees: ['alice'],
      labels: ['bug', 'safari'],
      comments: 4,
      linked_prs: [123],
      url: 'https://github.com/cmu-sei/example-project/issues/456',
    },
    {
      number: 457,
      title: 'Add user profile editing',
      author: 'alice',
      created_at: '2025-09-19T09:15:00Z',
      closed_at: null,
      time_to_first_response_minutes: 120,
      assignees: ['bob'],
      labels: ['feature', 'user-experience'],
      comments: 1,
      linked_prs: [124],
      url: 'https://github.com/cmu-sei/example-project/issues/457',
    },
    {
      number: 458,
      title: 'Profile page should show user stats',
      author: 'carol',
      created_at: '2025-09-21T14:30:00Z',
      closed_at: null,
      time_to_first_response_minutes: 180,
      assignees: ['bob'],
      labels: ['feature', 'enhancement'],
      comments: 0,
      linked_prs: [124],
      url: 'https://github.com/cmu-sei/example-project/issues/458',
    },
    {
      number: 459,
      title: 'Database performance issues',
      author: 'eve',
      created_at: '2025-09-22T08:45:00Z',
      closed_at: null,
      time_to_first_response_minutes: null,
      assignees: [],
      labels: ['bug', 'database', 'performance'],
      comments: 2,
      linked_prs: [],
      url: 'https://github.com/cmu-sei/example-project/issues/459',
    },
  ],
  hygiene: {
    // Repository Security
    branch_protection: {
      present: true,
      required_reviews: 2,
      status_checks_required: true,
      dismiss_stale_reviews: true,
      require_code_owner_reviews: true,
    },
    codeowners: true,
    security_policy: true,
    vulnerability_alerts: true,
    secret_scanning: false,
    dependency_scanning: true,

    // Documentation
    readme_quality: {
      has_setup: true,
      has_test: true,
      has_description: true,
      has_badges: true,
      badges: ['build', 'coverage', 'license', 'version'],
      word_count: 1247,
    },
    contributing: true,
    code_of_conduct: true,
    license: true,
    changelog: false,
    issue_templates: true,
    pr_template: true,
    wiki_present: false,

    // Code Quality
    ci_present: true,
    test_coverage: {
      present: true,
      percentage: 87.3,
    },
    linting: {
      present: true,
      tools: ['ESLint', 'Prettier', 'TypeScript'],
    },
    formatting: {
      present: true,
      tools: ['Prettier', 'EditorConfig'],
    },
    precommit: true,
    editorconfig: true,
    gitignore_quality: {
      present: true,
      comprehensive: true,
    },

    // Dependency Management
    dependabot: true,
    security_advisories: false,
    package_lock: true,
    outdated_dependencies: {
      count: 7,
      critical: 1,
    },

    // Release Management
    releases_recent: true,
    semantic_versioning: true,
    release_notes: false,
    tags_present: true,

    // Development Practices
    conventional_commits_rate: 0.78,
    pr_size_check: {
      average_size: 'M',
      large_pr_rate: 0.23,
    },
    review_coverage: 0.89,
    merge_strategy: {
      squash_enabled: true,
      merge_commits_allowed: false,
    },

    // Community Health
    discussions_enabled: false,
    projects_used: true,
    issue_response_time: {
      average_hours: 18.5,
      sla_met: true,
    },
    stale_issue_management: true,
  },
  direct_pushes: [
    {
      sha: 'a1b2c3d4e5f6g7h8i9j0k1l2m3n4o5p6q7r8s9t',
      committer: 'bob',
      message: 'Fix typo in README',
      date: '2025-09-24T09:12:00Z',
      ci_status: 'pass',
      additions: 3,
      deletions: 1,
    },
    {
      sha: 'b2c3d4e5f6g7h8i9j0k1l2m3n4o5p6q7r8s9t0a',
      committer: 'dave',
      message: 'Hotfix: handle null pointers',
      date: '2025-09-25T14:30:22Z',
      ci_status: 'fail',
      additions: 25,
      deletions: 7,
    },
    {
      sha: 'c3d4e5f6g7h8i9j0k1l2m3n4o5p6q7r8s9t0ab1',
      committer: 'eve',
      message: 'Update dependencies',
      date: '2025-09-26T16:45:10Z',
      ci_status: 'unknown',
      additions: 120,
      deletions: 112,
    },
  ],
};
